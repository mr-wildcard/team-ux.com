---
interface NavItemHTMLAttributes {
  class: string[];
  href?: string;
}

const { pathname } = Astro.url;
const { to, title } = Astro.props;

const HTMLTag = to === pathname ? "span" : "a";
const hrefAttribute = to === pathname ? undefined : to;
---

<HTMLTag
  href={hrefAttribute}
  class:list={["nav-item", { selected: to === pathname }]}
>
  {title}
</HTMLTag>

<style>
  .nav-item {
    @apply text-secondary hover:text-primary;

    position: relative;

    &.selected {
      @apply text-primary;

      &:after {
        content: "";
      }
    }

    &:after {
      @apply bg-primary;

      position: absolute;
      left: -1px;
      right: -1px;
      bottom: -4px;
      height: 2px;
      border-radius: 2px;
    }
  }
</style>
